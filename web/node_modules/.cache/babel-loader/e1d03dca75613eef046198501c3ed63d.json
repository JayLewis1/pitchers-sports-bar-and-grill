{"ast":null,"code":"import _toConsumableArray from\"/Users/jay/Desktop/Current Projects/pitchers-proto/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/jay/Desktop/Current Projects/pitchers-proto/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';// Components\nimport GalleryPopup from\"../components/home/GalleryPopup\";//Redux\nimport{connect}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var mapState=function mapState(state){return{gallery:state.gallery};};var mapDispatch={toggleGallery:function toggleGallery(payload){return{type:\"TOGGLE_GALLERY\",payload:payload};}};var connector=connect(mapState,mapDispatch);var Gallery=function Gallery(_ref){var gallery=_ref.gallery,toggleGallery=_ref.toggleGallery;var _useState=useState([{url:\"\",loaded:false}]),_useState2=_slicedToArray(_useState,2),galleryImages=_useState2[0],setImgageUrls=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),imgIndex=_useState4[0],setImgIndex=_useState4[1];useEffect(function(){populateWithImgUrls();},[]);var openImagePopup=function openImagePopup(imgUrl){var index;for(var x=0;x<galleryImages.length;x++){if(galleryImages[x].url===imgUrl){index=galleryImages.indexOf(galleryImages[x]);setImgIndex(index+1);toggleGallery(true);}}};var populateWithImgUrls=function populateWithImgUrls(){var imgUrlArray=[];for(var x=1;x<=29;x++){var newObject={url:\"/assets/gallery/p\".concat(x,\"@2x.jpg\"),loaded:false};imgUrlArray.push(newObject);};setImgageUrls(imgUrlArray);};var setLoadedImg=function setLoadedImg(img){var editableArray=_toConsumableArray(galleryImages);var index;var loadedObject={url:img.url,loaded:true};for(var x=0;x<editableArray.length;x++){if(editableArray[x].url===img.url){index=editableArray.indexOf(editableArray[x]);editableArray.splice(index,1,loadedObject);setImgageUrls(editableArray);}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"gallery-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Pitchers photo gallery\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"gallery-grid\",children:galleryImages&&galleryImages.map(function(img){return/*#__PURE__*/_jsxs(\"li\",{className:\"gallery-image\",style:img.loaded===true?{minHeight:\"0\"}:{minHeight:\"200px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"img-placeholder\",style:img.loaded===true?{display:\"none\"}:{display:\"block\"}}),/*#__PURE__*/_jsx(\"img\",{style:img.loaded===false?{display:\"none\"}:{display:\"inline-block\"},src:img.url,alt:\"Gallery Item\",onLoad:function onLoad(){return setLoadedImg(img);}}),/*#__PURE__*/_jsx(\"span\",{className:\"img-hover\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"gallery-link\",onClick:function onClick(){return openImagePopup(img.url);},children:[/*#__PURE__*/_jsx(\"span\",{className:\"btn-bg\"}),/*#__PURE__*/_jsx(\"p\",{children:\"View photo\"})]})})]},img.url);})})]}),gallery.toggle===true&&/*#__PURE__*/_jsx(GalleryPopup,{index:imgIndex,from:\"gallery\"})]});};export default connector(Gallery);","map":{"version":3,"sources":["/Users/jay/Desktop/Current Projects/pitchers-proto/web/src/routes/Gallery.tsx"],"names":["React","useState","useEffect","GalleryPopup","connect","mapState","state","gallery","mapDispatch","toggleGallery","payload","type","connector","Gallery","url","loaded","galleryImages","setImgageUrls","imgIndex","setImgIndex","populateWithImgUrls","openImagePopup","imgUrl","index","x","length","indexOf","imgUrlArray","newObject","push","setLoadedImg","img","editableArray","loadedObject","splice","map","minHeight","display","toggle"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\n// Components\nimport GalleryPopup from \"../components/home/GalleryPopup\";\n//Redux\nimport { connect, ConnectedProps } from \"react-redux\";\n\ninterface ComponentProps {\n  gallery: {\n    toggle: boolean\n  }\n}\n\nconst mapState = (state:ComponentProps ) => ({\n  gallery: state.gallery\n})\n\nconst mapDispatch = {\n  toggleGallery : (payload: boolean) => ({type: \"TOGGLE_GALLERY\", payload: payload})\n}\n\nconst connector = connect(mapState, mapDispatch)\n\ntype PropsFromRedux = ConnectedProps<typeof connector>\ntype Props = PropsFromRedux\n\nconst Gallery = ({gallery, toggleGallery} : Props) => {\n  const [galleryImages, setImgageUrls] = useState([{url: \"\", loaded: false}])\n  const [imgIndex, setImgIndex] = useState(0);\n\n  useEffect(() => {\n    populateWithImgUrls()\n  },[])\n\n  const openImagePopup = (imgUrl: string) => {\n    let index: number;\n    for(let x = 0; x < galleryImages.length; x++) {\n        if(galleryImages[x].url === imgUrl) {\n          index = galleryImages.indexOf(galleryImages[x]);\n          setImgIndex(index+1);\n          toggleGallery(true);\n        } \n    }\n  }\n\n  const populateWithImgUrls = () => {\n    let imgUrlArray: any = []\n    for(let x = 1; x <= 29; x++ ){\n      let newObject = {\n        url : `/assets/gallery/p${x}@2x.jpg`,\n        loaded: false \n      }\n      imgUrlArray.push(newObject)\n    }; \n    setImgageUrls(imgUrlArray)\n  }\n\n  const setLoadedImg = (img:any) => {\n    let editableArray = [...galleryImages];\n    let index: number;\n    let loadedObject = {\n      url : img.url,\n      loaded: true\n    }\n\n    for(var x = 0; x < editableArray.length; x++ ) {\n      if(editableArray[x].url === img.url ) {\n        index = editableArray.indexOf(editableArray[x])\n        editableArray.splice(index, 1, loadedObject)\n        setImgageUrls(editableArray);\n      }\n    }\n  }\n\n  return (\n    <div className=\"gallery-container\">\n        <div className=\"wrapper\">\n          <h3>Pitchers photo gallery</h3>\n          <ul className=\"gallery-grid\">\n            { galleryImages && galleryImages.map((img) => \n            <li \n                key={img.url} className=\"gallery-image\"\n                style={img.loaded === true ? { minHeight: \"0\" } : { minHeight: \"200px\" }}>\n              <div  \n                className=\"img-placeholder\"\n                style={img.loaded === true ? { display: \"none\" } : { display: \"block\" }}></div>\n              <img \n                style={img.loaded === false ? { display: \"none\" } : { display: \"inline-block\" }}\n                src={img.url} alt=\"Gallery Item\"\n                onLoad={() => setLoadedImg(img)} /> \n              <span className=\"img-hover\">\n                <button className=\"gallery-link\"\n                  onClick={() => openImagePopup(img.url)} >\n                  <span className=\"btn-bg\"></span>\n                  <p>View photo</p>\n                 </button>\n              </span>\n             \n            </li>\n            )}\n          </ul> \n        </div>\n        { gallery.toggle === true &&\n           <GalleryPopup index={imgIndex} from={\"gallery\"}/> \n        }\n    </div>\n  )\n}\n\nexport default connector(Gallery);"]},"metadata":{},"sourceType":"module"}